<!DOCTYPE html>

<html xmlns="http://www.w3.org/1999/xhtml" ng-app="main">
  <head>
      <meta charset="utf-8" />
      <title></title>
      <meta name="viewport" content="width=device-width, initial-scale=1.0">
      <!-- styles -->
      <link href="http://netdna.bootstrapcdn.com/bootstrap/3.3.1/css/bootstrap.min.css" rel="stylesheet" media="screen">
      <link href="stylesheets/style.css" rel="stylesheet" media="screen">
      <link href="stylesheets/browse.css" rel="stylesheet" media="screen">
  </head>
  <body>
    <div class="container">
      <!-- navbar -->
      <div ng-include="'header'"></div>

      <div class="main-view" ng-controller="browseController">
        <!--
          container
            stores list
            store-view
              image-view
              store-info-view
              party-creation
            store-detail-view
              products list
              comments-view
                comment-creation
                comments-list
        -->
        <div class="container row">
          <div class="stores-list col-md-3">
            <table class="table table-hover table-striped">
              <thead>
                <tr>店家列表</tr>
              </thead>
              <tbody>
                <tr ng-repeat="store in storesList" ng-class="{info: store.id == selectStore.id}">
                  <td>
                    <a href="" ng-click="clickStore($index)">{{store.name}}</a>
                  </td>
                </tr>
              </tbody>
            </table>
          </div>
          
          <div class="store-view col-md-3">
            <div class="image-view row">image-view</div>
            <div class="store-info-view row">
              <div>{{selectStore.name}}</div>
              <div>{{selectStore.phone_number}}</div>
              <div>{{selectStore.min_spending}}</div>
            </div>
            <div class="party-creation row">
              <!-- Show party creation view if authority passed -->
            </div>
          </div>
          
          <div class="store-detail-view col-md-6">
            <div class="products-view row">
              <table class="table table-hover table-striped">
                <thead>
                  <tr>
                    <th>商品</th>
                    <th>售價</th>
                  </tr>
                </thead>
                <tbody>
                  <tr ng-repeat="product in productsList" ng-class="{info: product.product_id == selectProduct.product_id}">
                    <td>
                      <a href="" ng-click="clickProduct($index)">{{product.product_name}}</a>
                    </td>
                    <td>{{product.price}}</td>
                  </tr>
                </tbody>
              </table>
            </div>
            <div class="comments-view row">
              <div class="comment-creation row">
                <form>
                  <!-- todo -->
                </form>
              </div>
              <div class="comments-list row">
                <p>評論</p>
                <ul>
                  <li ng-repeat="comment in selectProductComments">
                    <a href="">{{comment.user_name}}</a>
                    <p>分數：{{comment.stars}}</p>
                    <p>{{comment.text}}</p>
                  </li>
                </ul>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>

    <!-- scripts -->
    <script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/jquery/2.1.1/jquery.min.js"></script>
    <script type="text/javascript" src="http://netdna.bootstrapcdn.com/bootstrap/3.3.1/js/bootstrap.min.js" type="text/javascript"></script>
    <script type="text/javascript" src="https://ajax.googleapis.com/ajax/libs/angularjs/1.3.16/angular.min.js"></script>
    <!-- user scripts -->
    <script src="javascripts/cookies.js"></script>
    <script src="javascripts/app.js"></script>
  </body>
</html>